Uwaga: ZÅ‚oÅ¼onoÅ›Ä‡ funkcji init powinna byÄ‡ w najgorszym razie ğ‘‚(|ğ‘‹|log2|ğ‘‹|)

.

Twoim zadaniem jest zaimplementowanie struktury danych umoÅ¼liwiajÄ…cej efektywne odpowiadanie na okreÅ›lone zapytania dotyczÄ…ce ciÄ…gu liczb X.

Dla ustalonego ciÄ…gu ğ‘‹=ğ‘¥0,ğ‘¥1,â€¦,ğ‘¥ğ‘›âˆ’1

interesuje nas funkcja:

nextInRange(i, [a, b]) 

ktÃ³ra wyznacza najmniejszy indeks j taki, Å¼e ğ‘—â‰¥ğ‘–
oraz ğ‘¥ğ‘—âˆˆ[ğ‘,ğ‘]

. JeÅ›li taki indeks nie istnieje, wynikiem funkcji powinno byÄ‡ -1.

Czyli:

ğ‘›ğ‘’ğ‘¥ğ‘¡ğ¼ğ‘›ğ‘…ğ‘ğ‘›ğ‘”ğ‘’(ğ‘–,[ğ‘,ğ‘])=min{ğ‘—â‰¥ğ‘–:ğ‘¥ğ‘—âˆˆ[ğ‘,ğ‘]}

 lub -1 (jeÅ›li taki indeks nie istnieje)

TwÃ³j moduÅ‚ powinien udostÄ™pniaÄ‡ nastÄ™pujÄ…ce funkcje:

void init(const vector<int> &x) â€“ inicjalizacja ciÄ…gu X przez wartoÅ›ci wektora x (uwaga! ciÄ…g moÅ¼e zawieraÄ‡ dowolne wartoÅ›ci mieszczÄ…ce siÄ™ w typie int)

int nextInRange(int i, int a, int b) â€“ oblicz wartoÅ›Ä‡ nextInRange(i, [a, b]). MoÅ¼esz zaÅ‚oÅ¼yÄ‡, Å¼e 0â‰¤ğ‘–<|ğ‘‹|
i ğ™¸ğ™½ğšƒ_ğ™¼ğ™¸ğ™½â‰¤ğ‘â‰¤ğ‘â‰¤ğ™¸ğ™½ğšƒ_ğ™¼ğ™°ğš‡

.

void done() â€“ zwolnienie caÅ‚ej pamiÄ™ci uÅ¼ywanej do obsÅ‚ugiwania ciÄ…gu X.

Deklaracje podanych funkcji znajdujÄ… siÄ™ w pliku next.h. Twoim zadaniem jest zaimplementowanie podanych funkcji w pliku next.cpp.

Komenda kompilacji:

g++ @opcjeCpp main.cpp next.cpp -o main.e

Aby Twoje rozwiÄ…zanie uzyskaÅ‚o maksymalnÄ… punktacjÄ™, koszt czasowy funkcji nextInRange musi wynosiÄ‡ ğ‘‚(log|ğ‘‹|)
. JeÅ›li koszt czasowy tej funkcji bÄ™dzie ğ‘‚(log2|ğ‘‹|)

, moÅ¼esz otrzymaÄ‡ 4 punkty.

Twoje rozwiÄ…zanie zostanie takÅ¼e uruchomione za pomocÄ… narzÄ™dzia valgrind, ktÃ³re pozwala sprawdzaÄ‡ m.in., czy program nie miaÅ‚ wyciekÃ³w pamiÄ™ci. W przypadku wykrycia wyciekÃ³w pamiÄ™ci za pomocÄ… komendy:

valgrind --tool=memcheck --leak-check=yes ./main.e

moÅ¼esz straciÄ‡ od 1 do 2 punktÃ³w za zadanie.